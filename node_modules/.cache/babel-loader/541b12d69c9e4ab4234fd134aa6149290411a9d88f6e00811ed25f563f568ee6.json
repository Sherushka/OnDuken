{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\Projects\\\\advancedno\\\\src\\\\components\\\\elements\\\\Modal\\\\LoginModal\\\\Login.jsx\",\n  _s = $RefreshSig$();\n//импорт модулей\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField } from \"@mui/material\";\nimport { useAppDispatch, useAppSelector } from \"../../../../redux/hooks\";\nimport { login } from \"../../../../redux/slices/auth\";\n\n//импорт стилей\nimport './Login.sass';\n\n//импорт кастом компонентов\nimport Register from \"../RegisterModal/Register\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = _ref => {\n  _s();\n  let {\n    open,\n    handleClose\n  } = _ref;\n  const [error, setError] = useState('');\n  const [openModal, setOpenModal] = useState(false);\n  const [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const dispatch = useAppDispatch();\n  const {\n    isSuccess,\n    isError,\n    message\n  } = useAppSelector(state => state.auth);\n  const onInputChange = useCallback(e => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value\n    });\n  }, [userData]);\n  const handleClickOpen = () => {\n    setOpenModal(true);\n  };\n  useEffect(() => {\n    if (isSuccess) {\n      window.location.reload();\n    }\n    if (isError) {\n      setError(message);\n    }\n  }, [isSuccess, isError]);\n  const onFormSubmit = e => {\n    e.preventDefault();\n    dispatch(login(userData));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n        style: {\n          padding: '22px 0 0 24px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Log In \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: [\" \", error ? message : null, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onFormSubmit,\n        action: \"\",\n        children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n          style: {\n            padding: '0 24px 20px 24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            margin: \"dense\",\n            name: \"email\",\n            label: \"Email Address\",\n            type: \"email\",\n            onChange: onInputChange,\n            value: userData.email,\n            fullWidth: true,\n            variant: \"standard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            margin: \"dense\",\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            onChange: onInputChange,\n            value: userData.password,\n            fullWidth: true,\n            variant: \"standard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"black\",\n              fontSize: \"small\"\n            },\n            children: \"Don't have an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClickOpen,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Register, {\n            open: openModal,\n            handleClose: handleClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: handleClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            margin: \"dense\",\n            id: \"login\",\n            type: \"submit\",\n            variant: \"outlined\",\n            children: \" Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"XadJJ97LxVbjnAC/TAOOGP/b27o=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","useAppDispatch","useAppSelector","login","Register","Login","open","handleClose","error","setError","openModal","setOpenModal","userData","setUserData","email","password","dispatch","isSuccess","isError","message","state","auth","onInputChange","e","target","name","value","handleClickOpen","window","location","reload","onFormSubmit","preventDefault","padding","color","fontSize"],"sources":["C:/Users/Пользователь/Projects/advancedno/src/components/elements/Modal/LoginModal/Login.jsx"],"sourcesContent":["//импорт модулей\nimport React, {useCallback, useEffect, useState} from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    TextField,\n} from \"@mui/material\";\nimport {useAppDispatch, useAppSelector} from \"../../../../redux/hooks\";\nimport {login} from \"../../../../redux/slices/auth\";\n\n//импорт стилей\nimport './Login.sass';\n\n//импорт кастом компонентов\nimport Register from \"../RegisterModal/Register\";\n\nconst Login = ({open, handleClose}) => {\n    const [error, setError] = useState('');\n    const [openModal, setOpenModal] = useState(false);\n    const [userData, setUserData] = useState({\n        email: \"\",\n        password: \"\",\n    });\n\n    const dispatch = useAppDispatch();\n    const {isSuccess, isError, message} = useAppSelector(\n        (state) => state.auth\n    );\n\n\n    const onInputChange = useCallback(\n        (e) => {\n            setUserData({...userData, [e.target.name]: e.target.value});\n        },\n        [userData]\n    );\n\n    const handleClickOpen = () => {\n        setOpenModal(true);\n    };\n\n    useEffect(() => {\n        if (isSuccess) {\n            window.location.reload();\n        }\n        if (isError) {\n            setError(message);\n        }\n    }, [isSuccess, isError]);\n\n    const onFormSubmit = (e) => {\n        e.preventDefault();\n\n        dispatch(login(userData));\n    };\n\n    return (\n        <>\n            <Dialog open={open} onClose={handleClose}>\n                <DialogContentText style={{padding: '22px 0 0 24px'}}>\n                    <p> Log In </p>\n                    <p style={{color: 'red'}}> {error ? message : null} </p>\n                </DialogContentText>\n                <form onSubmit={onFormSubmit} action=\"\" >\n                    <DialogContent style={{padding: '0 24px 20px 24px'}}>\n                        <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            name=\"email\"\n                            label=\"Email Address\"\n                            type=\"email\"\n                            onChange={onInputChange}\n                            value={userData.email}\n                            fullWidth\n                            variant=\"standard\"\n                        />\n                        <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            onChange={onInputChange}\n                            value={userData.password}\n                            fullWidth\n                            variant=\"standard\"\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <p style={{color: \"black\", fontSize: \"small\"}}>Don't have an account?</p>\n                        <Button onClick={handleClickOpen}>Sign In</Button>\n                        <Register\n                            open={openModal}\n                            handleClose={handleClose}\n                        />\n                        <Button variant=\"outlined\" onClick={handleClose}>Close</Button>\n                        <Button\n                            margin=\"dense\"\n                            id=\"login\"\n                            type=\"submit\"\n                            variant=\"outlined\"\n                        > Log In\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </>\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}